<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MyMobileApplication.MainPage"
             Title="Backend Integration App">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">
            
            <!-- Header -->
            <Label 
                Text="Backend Integration Demo"
                FontSize="24"
                FontAttributes="Bold"
                HorizontalOptions="Center"
                Margin="0,10,0,20" />

            <!-- REST API Section -->
            <Frame BorderColor="DodgerBlue" CornerRadius="10" Padding="15" HasShadow="True">
                <VerticalStackLayout Spacing="10">
                    <Label 
                        Text="REST API Integration"
                        FontSize="20"
                        FontAttributes="Bold"
                        TextColor="DodgerBlue" />
                    
                    <Label Text="Server URL:" FontSize="14" />
                    <Entry 
                        x:Name="RestUrlEntry"
                        Placeholder="https://jsonplaceholder.typicode.com"
                        FontSize="14" />
                    
                    <Label Text="Endpoint:" FontSize="14" />
                    <Entry 
                        x:Name="RestEndpointEntry"
                        Placeholder="/posts/1"
                        FontSize="14" />
                    
                    <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                        <Button 
                            Grid.Column="0"
                            Text="GET Request"
                            Clicked="OnGetClicked"
                            BackgroundColor="Green" />
                        <Button 
                            Grid.Column="1"
                            Text="POST Request"
                            Clicked="OnPostClicked"
                            BackgroundColor="Orange" />
                    </Grid>
                    
                    <Label Text="Response:" FontSize="14" FontAttributes="Bold" />
                    <Frame BorderColor="LightGray" Padding="10" CornerRadius="5">
                        <ScrollView MaximumHeightRequest="200">
                            <Label 
                                x:Name="RestResponseLabel"
                                Text="Response will appear here..."
                                FontSize="12"
                                LineBreakMode="WordWrap" />
                        </ScrollView>
                    </Frame>
                </VerticalStackLayout>
            </Frame>

            <!-- WebSocket Section -->
            <Frame BorderColor="MediumPurple" CornerRadius="10" Padding="15" HasShadow="True">
                <VerticalStackLayout Spacing="10">
                    <Label 
                        Text="WebSocket Integration"
                        FontSize="20"
                        FontAttributes="Bold"
                        TextColor="MediumPurple" />
                    
                    <Label Text="WebSocket URL:" FontSize="14" />
                    <Entry 
                        x:Name="WebSocketUrlEntry"
                        Placeholder="wss://echo.websocket.org"
                        FontSize="14" />
                    
                    <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                        <Button 
                            Grid.Column="0"
                            x:Name="ConnectButton"
                            Text="Connect"
                            Clicked="OnConnectClicked"
                            BackgroundColor="Green" />
                        <Button 
                            Grid.Column="1"
                            x:Name="DisconnectButton"
                            Text="Disconnect"
                            Clicked="OnDisconnectClicked"
                            BackgroundColor="Red"
                            IsEnabled="False" />
                    </Grid>
                    
                    <Label 
                        x:Name="ConnectionStatusLabel"
                        Text="Status: Not connected"
                        FontSize="14"
                        FontAttributes="Italic"
                        TextColor="Gray" />
                    
                    <Label Text="Message to Send:" FontSize="14" />
                    <Entry 
                        x:Name="MessageEntry"
                        Placeholder="Type your message..."
                        FontSize="14" />
                    
                    <Button 
                        x:Name="SendButton"
                        Text="Send Message"
                        Clicked="OnSendMessageClicked"
                        BackgroundColor="DodgerBlue"
                        IsEnabled="False" />
                    
                    <Label Text="Messages:" FontSize="14" FontAttributes="Bold" />
                    <Frame BorderColor="LightGray" Padding="10" CornerRadius="5">
                        <ScrollView MaximumHeightRequest="200">
                            <Label 
                                x:Name="MessagesLabel"
                                Text="Messages will appear here..."
                                FontSize="12"
                                LineBreakMode="WordWrap" />
                        </ScrollView>
                    </Frame>
                </VerticalStackLayout>
            </Frame>

            <!-- AI Chat Integration Section (Free - No API Key!) -->
            <Frame BorderColor="DeepPink" CornerRadius="10" Padding="15" HasShadow="True">
                <VerticalStackLayout Spacing="10">
                    <Label 
                        Text="ðŸ¤– AI Chat"
                        FontSize="20"
                        FontAttributes="Bold"
                        TextColor="DeepPink" />
                    
                    <Label 
                        Text="Powered by Ollama - Local AI on your PC"
                        FontSize="11"
                        FontAttributes="Italic"
                        TextColor="Gray" />
                    
                    <Label Text="Ollama Server URL:" FontSize="14" />
                    <Entry 
                        x:Name="OllamaUrlEntry"
                        Placeholder="http://192.168.1.100:11434"
                        FontSize="12" />
                    
                    <Button 
                        x:Name="TestConnectionButton"
                        Text="Test Connection"
                        Clicked="OnTestConnectionClicked"
                        BackgroundColor="Orange"
                        FontSize="12" />
                    
                    <Label 
                        x:Name="AIConnectionStatusLabel"
                        Text="Setup: 1) Download Ollama from ollama.com 2) Run it on your PC 3) Enter your PC's IP above"
                        FontSize="11"
                        FontAttributes="Italic"
                        TextColor="Gray"
                        LineBreakMode="WordWrap" />
                    
                    <Label Text="Your Message:" FontSize="14" />
                    <Entry 
                        x:Name="AIChatEntry"
                        Placeholder="Ask me anything..."
                        FontSize="14" />
                    
                    <Button 
                        x:Name="SendAIButton"
                        Text="Send to AI"
                        Clicked="OnSendToAIClicked"
                        BackgroundColor="DeepPink" />
                    
                    <Label Text="AI Chat:" FontSize="14" FontAttributes="Bold" />
                    <Frame BorderColor="LightGray" Padding="10" CornerRadius="5">
                        <ScrollView MaximumHeightRequest="250">
                            <Label 
                                x:Name="AIChatLabel"
                                Text="ðŸ’¡ Quick Start:\n1. Download Ollama: ollama.com\n2. Install and run it on your PC\n3. Find your PC's IP address\n4. Enter it above (port 11434)\n5. Click 'Test Connection'\n6. Start chatting!"
                                FontSize="12"
                                LineBreakMode="WordWrap" />
                        </ScrollView>
                    </Frame>
                </VerticalStackLayout>
            </Frame>

            <!-- Info Section -->
            <Frame BorderColor="Gray" CornerRadius="10" Padding="15" HasShadow="True">
                <VerticalStackLayout Spacing="5">
                    <Label 
                        Text="â„¹ï¸ Quick Start"
                        FontSize="16"
                        FontAttributes="Bold" />
                    <Label 
                        Text="â€¢ REST: Uses JSONPlaceholder API by default"
                        FontSize="12" />
                    <Label 
                        Text="â€¢ WebSocket: Uses Echo WebSocket server by default"
                        FontSize="12" />
                    <Label 
                        Text="â€¢ AI"
                        FontSize="12" />
                    <Label 
                        Text="â€¢ You can change URLs to connect to your own servers"
                        FontSize="12" />
                </VerticalStackLayout>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
